
{% extends 'base.html' %}

{% block title %} Category_List {% endblock %}
{% block extra-style %}  
<style>
    a {
  text-decoration: none;
  color: black;
}
    /* 사이드바 스타일 */
    .sidebar {
        width: 20%;
        float: left;
        background-color: #f1f1f1;
        padding: 20px;
        margin-top: 50px; 
        border-right: 1px solid #ccc; /* 사이드바와 그리드 사이에 구분선 추가 */
    }

    /* 상품 목록 스타일 */
    .item-list {
        width: 80%;
        float: left;
        padding: 20px;
        margin-top: 50px;
        text-align: center;
    }

    .grid-container {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        grid-template-rows: repeat(1, 1fr);
        grid-gap: 20px;
    }

    .grid-item {
        text-align: center;
    }

    .grid-item img {
        max-width: 100%;
        height: auto;
    }

    /* 페이징 스타일 */
    .pagination {  
         display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        margin-top: 20px;
    }
    .section-title {
        text-align: center;
        margin-bottom: 30px;
    }
</style>
{% endblock %}
{% block content %}

    <div class="sidebar">
        <h2>카테고리</h2>
        <form action="" method="get">
            {% for category in cat1 %}
            <input type="checkbox" id="category{{ category.id }}"  name="category1" value="{{ category.id }}"  onchange="this.form.submit()">
                <label for="category{{ category.id }}">{{ category.name }}</label><br>
            {% endfor %}
            {% for category in cat2 %}
            <input type="checkbox" id="category{{ category.id }}"  name="category2" value="{{ category.id }}"  onchange="this.form.submit()">
                <label for="category{{ category.id }}">{{ category.name }}</label><br>
            {% endfor %}
        </form>
    </div>
    <div class="item-list">
        <div class="section-title">
            <h2>LIST</h2>
        </div>
        <div class="grid-container">
            {% for item in items %}
            <a href="{% url 'item:detail' item.id %}" role="button">
                <div class="grid-item">
                    <img src="{{ item.image }}" alt="{{ item.name }}">
                    <h3>{{ item.name }}</h3>
                    <p>가격: {{ item.price }}원</p>
                    <p>{{ item.summary }}</p>
                </div>
            </a>
            {% endfor %}
        </div>
        
        <div class="pagination">
            {% if items.has_previous %}
            <a href="?page={{ items.previous_page_number }}">이전</a>
            {% endif %}
        
            {% for page_num in items.paginator.page_range %}
            {% if items.number == page_num %}
            <span>{{ page_num }}</span>
            {% else %}
            <a href="?page={{ page_num }}">{{ page_num }}</a>
            {% endif %}
            {% endfor %}
        
            {% if items.has_next %}
            <a href="?page={{ items.next_page_number }}">다음</a>
            {% endif %}
        </div>
    </div>

{% endblock %}
